<!DOCTYPE html>
<html>
    <head>
        <% include ./meta-resources.ejs %>
        <link rel='stylesheet' href='/stylesheets/pg-movie-list.css' />
    </head>
    <body>
        <% include ./header.ejs %>
        
        <div class="mk-genre-tags-wrapper container mt-4">
            <p>FILTER BY MOVIE GENRES</p>
            <div>
                <ul>
                    <% for(let i = 0; i < genres.length; i++) { %>
                        <% let genre = genres[i]; %>
                        <li class="mk-tags <%= (typeof(selectedGenreId) !== "undefined" && selectedGenreId == genre.genreId) ? "mk-tags-active" : "" %>">
                            <a href="<%= PathDict.GET.MOVIE_BY_GENRE + "?genreId=" + genre.genreId%>"><%=genre.genreName%></a>
                        </li>
                    <% } %>
                </ul>
            </div>
            
        </div>
        <div class="container mt-4">
            <h2 class="mk-sub-title">MOVIES</h2>
            <p class="mk-sub-title-desc">Whether youâ€™re planning a romantic first date, a family movie night, or anything in-between,</br> we can help you find the perfect movie for any occasion.</p>
            <% if(typeof(movies) === "undefined" || !movies.length > 0) {%>
                <h3>NO MOVIES FOR NOW : )</h3>
            <% } else { %>
                <div class="mk-movie-list-wrapper">
                    <ul class="mk-movie-list">
                        <% for(let i = 0; i < movies.length; i++) { %>
                        <% let movie = movies[i]; %>
                        <li>
                            <a href="<%=PathDict.GET.MOVIE_DETAILS + "?id=" + movie.movieId%>">
                                <img class="mk-movie-thumb-img" src=<%=movie.coverImageUrl%> >
                            </a>
                            <div class="mk-movie-thumb-title-wrapper">
                                <a class="mk-movie-thumb-title" href=<%=PathDict.GET.MOVIE_DETAILS + "?id=" + movie.movieId%>><%=movie.movieTitle%></a>
                            </div>
                        </li>
                        <% } %>
                    </ul>
                </div>
            <% }%>
            
        </div>

        <% include ./lib-url.ejs %>
    </body>
</html>
